MACRO(GEN_OPS_INFO_FILE op_type output_dir output_file_name_prefix)
    SET(INI_PATH  ${CMAKE_CURRENT_SOURCE_DIR}/op_info_cfg/${op_type})
    EXECUTE_PROCESS(COMMAND  ls -1  ${INI_PATH}  OUTPUT_VARIABLE SUB_DIRS)
    STRING(REPLACE  "\n" ";"  SUB_DIRS  ${SUB_DIRS})
    FOREACH(SUB_DIR  ${SUB_DIRS})
        IF(IS_DIRECTORY  ${INI_PATH}/${SUB_DIR})
            EXECUTE_PROCESS(COMMAND  find  ${INI_PATH}/${SUB_DIR}  -name  "*.ini"  OUTPUT_VARIABLE  INI_FILES)
            IF(NOT "x${INI_FILES}" STREQUAL "x")
                STRING(REPLACE  "\n" "\t"  INI_FILES  ${INI_FILES})
            ENDIF()
            IF(NOT  "x${INI_FILES}"  STREQUAL  "x")
                SET(output_file_name  ${output_file_name_prefix}-${SUB_DIR}-ops-info.json)
                ADD_CUSTOM_COMMAND(OUTPUT ${output_file_name}
                        COMMAND  mkdir -p  ${output_dir}/${SUB_DIR}
                        COMMAND  python3  ${INI_2_JSON_PY}  ${INI_FILES}  ${output_dir}/${SUB_DIR}/${output_file_name})
                SET(OUTPUT_FILES ${OUTPUT_FILES} ${output_file_name})
            ELSE()
                MESSAGE(STATUS "ini file not exists.")
                EXECUTE_PROCESS(COMMAND mkdir -p ${output_dir})
            ENDIF()
        ENDIF()
    ENDFOREACH()
ENDMACRO(GEN_OPS_INFO_FILE)

GEN_OPS_INFO_FILE(ai_core ${AIC_OP_INFO_CFG_OUT_DIR} aic)
ADD_CUSTOM_TARGET(ai_core_ops_config_json  ALL DEPENDS  ${OUTPUT_FILES})