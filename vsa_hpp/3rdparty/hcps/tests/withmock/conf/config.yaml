---
version: 1.0.0

project:
  name: "hcps_pier_test"
  desc: "hcps_pier_test project"
  prod: null
  team: null

pipeline:
  build:
    - task: "compile_target"
      exec: "bash ../../../build.sh -s on -c on -t release"
      args: false
    - task: "cmake_test"
      args: "--args=\"-DCMAKE_EXPORT_COMPILE_COMMANDS=ON\" -t release"
  run:
    - task: "run_test"
  report:
    - task: "lcov_report"
      exec: "mkdir -p ../build/gcovr_report;pwd;lcov --d ../../.. --c --output-file ../build/test.info --rc lcov_branch_coverage=1;lcov -r ../build/test.info \"*7.3.0*\" \"*memory_bridge*\" \"*intraface/ock/vsa/neighbor/npu/impl/*.h\" \"*hcop/topk_dist_comp_op*\" \"*nop*\" \"*hfo*\" \"*handler*\" -output-file ../build/coverage.info --rc lcov_branch_coverage=1;genhtml -o ../build/gcovr_report ../build/coverage.info --show-details --legend --rc lcov_branch_coverage=1"
      args: false
  clean:
    - task: "clean_target"
      exec: "bash ../../../build.sh -t clean"
    - task: "clean"

components:
  - type: "hdt_cmc_c_cpp"
    repo: null
    dest: null
    manifest:
      gtest: null
      gcov: null
      mockcpp: null
      asan: null
      secodefuzz: null
      hdt-ptest: null
  - type: "hdt_cmc_pypi"
    repo: null
    dest: null
    manifest:
      hw-hdt-ptest: null

  - type: "hdt_hw_pypi_artoss"
    repo: "https://mirrors.huaweicloud.com/repository/pypi/simple"
    dest: null
    manifest:
      jinja2: 3.1.4